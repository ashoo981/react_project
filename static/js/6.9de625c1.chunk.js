(this.webpackJsonpintro=this.webpackJsonpintro||[]).push([[6],{281:function(e,t,n){"use strict";n.r(t);var r=n(30),a=n(0),o=n(269),c=n(271),s=n(100),i=n(40),u=n(24),l=n(157),p=n(75),f=n(41),h=n.n(f),b=n(68),m=n(99);function j(){return(j=Object(b.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Users/Authenticate",e.prev=1,e.next=4,Object(m.a)("Users/Authenticate",{method:"POST",data:JSON.stringify({username:t,password:n})});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function d(){return(d=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.clear(),localStorage.removeItem("token");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g={login:function(e,t){return j.apply(this,arguments)},logout:function(){return d.apply(this,arguments)}};var O={login:function(e,t){return function(n){var r;n((r={username:e},{type:p.a.LOGIN_REQUEST,user:r})),g.login(e,t).then((function(e){n(function(e){return{type:p.a.LOGIN_SUCCESS,user:e}}(e))})).catch((function(e){var t;n((t="hata",{type:p.a.LOGIN_FAILURE,error:t})),alert("Kullan\u0131c\u0131 Ad\u0131 veya \u015eifre Hatal\u0131!"),console.log("hata")}))}},logout:function(){return g.logout(),{type:p.a.LOGOUT}}},v=n(7),I=Object(r.a)({},O);t.default=Object(l.b)((function(e){var t=e.authentication;return{loggingIn:t.loggingIn,loggedIn:t.loggedIn}}),I)((function(e){Object(a.useEffect)((function(){e.logout()}),[]);return e.loggedIn?Object(v.jsx)(u.a,{to:"/"}):Object(v.jsxs)(o.a,{labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(t){console.log("Success:",t);var n=t.username,r=t.password;e.login(n,r)},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(v.jsx)(o.a.Item,{label:"Kullan\u0131c\u0131 Ad\u0131",name:"username",rules:[{required:!0}],children:Object(v.jsx)(c.a,{})}),Object(v.jsx)(o.a.Item,{label:"\u015eifre",name:"password",rules:[{required:!0}],children:Object(v.jsx)(c.a.Password,{})}),Object(v.jsx)(o.a.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(v.jsx)(s.a,{children:"Remember me"})}),Object(v.jsx)(o.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(i.a,{type:"primary",htmlType:"submit",children:"Giri\u015f Yap"})})]})}))}}]);
//# sourceMappingURL=6.9de625c1.chunk.js.map